var Publisher=function(){function e(){this.events={}}return e.prototype.subscribe=function(e,t){if(void 0===t)throw new Error("Expected an event handler");return this.events.hasOwnProperty(e)||(this.events[e]=[]),this.events[e].push(t),t},e.prototype.unsubscribe=function(e,t){if(void 0===e)throw new Error("Expected an event to unsubscribe");if(!this.events.hasOwnProperty(e))return!1;if(void 0===t)delete this.events[e];else{var n=this.events[e].indexOf(t);n>-1&&(this.events[e].splice(n,1),this.events[e].length<=0&&delete this.events[e])}return!0},e.prototype.publish=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(void 0===e)throw new Error("Expected an event to publish");if(!this.events.hasOwnProperty(e))return!1;for(var r=this.events[e],s=0,i=void 0;i=r[s];s+=1)i.apply(void 0,t);return!0},e}(),publisher=new Publisher;